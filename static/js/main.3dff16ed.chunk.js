(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{21:function(e,t,a){e.exports=a(39)},26:function(e,t,a){},27:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),o=(a(26),a(27),a(5)),s=function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement(o.b,{to:"/"},r.a.createElement("h1",null,"Blog Post")))},u=function(){return r.a.createElement("div",null,"banner")},i=a(14),m=a.n(i),p=a(19),E=a(20),g=a(9),d=function(e,t){switch(t.type){case"SEND_REQUEST":return Object(g.a)({},e,{loading:!0});case"REQUEST_FINISH":return Object(g.a)({},e,{loading:!1});case"SET_POSTS":return Object(g.a)({},e,{blogPosts:t.payload});case"SET_POST":return Object(g.a)({},e,{currentBlogPost:t.payload});default:return e}},f=Object(n.createContext)(),b=function(e){var t=Object(n.useReducer)(d,{blogPosts:[],currentBlogPost:null,loading:!0}),a=Object(E.a)(t,2),l=a[0],c=a[1],o=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==l.blogPosts.length){e.next=16;break}return e.prev=1,c({type:"SEND_REQUEST"}),e.next=5,fetch("https://newsapi.org/v2/everything?q=javascript&pageSize=10&apiKey=".concat("cb6c71f4451841668279b99a0dc521e2"));case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,c({type:"REQUEST_FINISH"}),c({type:"SET_POSTS",payload:a.articles}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(f.Provider,{value:{blogPosts:l.blogPosts,currentBlogPost:l.currentBlogPost,loading:l.loading,getPosts:o,getPostBYId:function(e){if(!(l.blogPosts.length>0))return null;c({type:"SEND_REQUEST"});var t=l.blogPosts.filter((function(t,a){return a===Number(e)}));console.log(e),c({type:"SET_POST",payload:t}),c({type:"REQUEST_FINISH"})}}},e.children)},h=a(10),v=a.n(h),P=function(e){var t=e.postId,a=e.post,n=a.urlToImage,l=a.author,c=a.title,s=a.publishedAt;return r.a.createElement("article",{className:"card"},r.a.createElement("img",{className:"card__image",alt:"",src:n||"https://via.placeholder.com/300X150.png/eee/333?text=No+image+available"}),r.a.createElement(o.b,{to:"/".concat(t)},r.a.createElement("h3",{className:"card__title"},c)),r.a.createElement("p",null,l),r.a.createElement("p",null,r.a.createElement(v.a,{format:"D MMM YYYY"},s)))},S=function(){var e=Object(n.useContext)(f),t=e.blogPosts,a=e.getPosts,l=e.loading;Object(n.useEffect)((function(){a()}),[]);var c=t.map((function(e,t){return r.a.createElement(P,{key:t,post:e,postId:t})}));return console.log(t),r.a.createElement("section",{className:"posts"},r.a.createElement("h2",null,"posts"),l?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{className:"posts__list"},c))},N=function(){return r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(S,null))},_=a(6),y=function(){var e=Object(_.f)().postId;console.log(e);var t=Object(n.useContext)(f),a=t.currentBlogPost,l=t.blogPosts,c=t.getPostBYId;t.loading;return Object(n.useEffect)((function(){c(e)}),[]),console.log(a,l),r.a.createElement("div",null,a?r.a.createElement("article",{className:"post"},r.a.createElement("img",{className:"card__image",alt:"",src:a[0].urlToImage?a[0].urlToImage:"https://via.placeholder.com/300X150.png/eee/333?text=No+image+available"}),r.a.createElement("h3",{className:"card__title"},a[0].title),r.a.createElement("p",null,a[0].author),r.a.createElement("p",null,r.a.createElement(v.a,{format:"D MMM YYYY"},a[0].publishedAt)),r.a.createElement("p",null,a[0].content," ",r.a.createElement("a",{href:a[0].url},"read more..."))):r.a.createElement("p",{className:"error-message"},"No data to display please ",r.a.createElement(o.b,{to:"/"},"click here")))},I=function(){return r.a.createElement("div",null,"App articles from ",r.a.createElement("a",{href:"https://newsapi.org"},"NewsAPI.org"))};var O=function(){return r.a.createElement(b,null,r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(s,null),r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/",exact:!0,component:N}),r.a.createElement(_.a,{path:"/:postId",exact:!0,component:y})),r.a.createElement(I,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.3dff16ed.chunk.js.map